<div class="container" ng-controller="PostsCtrl">
  <div class="row">
    <h1 class="col-xs-12"><a href="<%= root_path %>">BBS on Rails</a><a href="#form" class="btn btn-lg btn-default pull-right hidden-md hidden-lg" role="button">投稿</a></h1>
    <div class="col-xs-12 col-md-8">
      <div class="panel panel-default post" ng-repeat="post in posts">
        <div class="panel-heading">
          <span class="author">{{post.author}}</span>&emsp;<span class="small">{{post.mail}}</span>
          <span class="postid pull-right">{{post.id}}</span>
        </div>
        <div class="panel-body">
          <div class="content">{{post.content}}</div>
          <time class="time small pull-right">{{post.created_at | date: 'yyyy-MM-dd HH:mm:ss'}}</time>
        </div>
      </div>
      <button class="btn btn-lg btn-block btn-default" style="margin-bottom: 20px" ng-click="loadMore()">次の10件を読み込む</button>
    </div>

    <div class="col-xs-12 col-md-4">
      <form id="form" class="panel panel-default" ng-submit="create()">
        <div class="panel-body">
          <div class="form-group" ng-class="validation.author">
            <label class="control-label" for="inputAuthor">お名前</label><span class="small hidden error-message">&emsp;入力してください</span>
            <input id="inputAuthor" class="form-control" type="text" ng-model="newPost.author" required>
          </div>
          <div class="form-group" ng-class="validation.mail">
            <label class="control-label" for="inputMail">メールアドレス</label><span class="small hidden error-message">&emsp;正しく入力してください</span>
            <input id="inputMail" class="form-control" type="text" ng-model="newPost.mail">
          </div>
      <!--     <div>
            パスワード：<input type="password" ng-model="newPost.password">
          </div>   -->
          <div class="form-group" ng-class="validation.content">
            <label class="control-label" for="inputContent">本文</label><span class="small hidden error-message">&emsp;入力してください</span>
            <textarea id="inputContent" class="form-control" ng-model="newPost.content" rows="5" required></textarea>
          </div>
          <input class="btn btn-lg btn-primary" role="button" type="submit" value="投稿する">
        </div>
      </form>
    </div>
  </div>
</div>